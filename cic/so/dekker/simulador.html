<!--
A aplicação é somente um protótipo



Roadmap:
  - Template got from: https://getbootstrap.com/docs/3.3/getting-started/
-->
<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <title>Alg. Dekker</title>

    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css" integrity="sha384-BVYiiSIFeK1dGmJRAkycuHAHRg32OmUcww7on3RYdg4Va+PmSTsz/K68vbdEjh4u" crossorigin="anonymous">
    <link rel="stylesheet" href="static/highlight/styles/idea.css">

    <style>
      div.content-main {margin: 1em 0em 0em 0em;}
      span.line.line-cur {background-color: #fcfc92;}
      span.line.line-cur.info {background-color: #84ffea;}
      span.line.line-cur.line-paused {background-color: #d4d6d8;}
      span.ui.ui-title.active {font-weight: bold;}
      div.editor.editor-wrap pre.paused {opacity: 0.75;}
      span.kw.kw-true {color: green;}
      span.kw.kw-false {color: red;}

      span.editor.editor-breakpoint {padding-right: 1em;}
      span.editor.editor-breakpoint.enabled {
        background: url("data:image/svg+xml;base64,PHN2ZyB2aWV3Qm94PSIwIDAgMTcgMTciIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyIgdmVyc2lvbj0iMS4xIj48dGl0bGU+MTI0MzwvdGl0bGU+PGRlZnMgY2xhc3M9InNpLWdseXBoLWZpbGwiPjwvZGVmcz48ZyBzdHJva2U9Im5vbmUiIHN0cm9rZS13aWR0aD0iMSIgZmlsbD0ibm9uZSIgZmlsbC1ydWxlPSJldmVub2RkIiBjbGFzcz0ic2ktZ2x5cGgtZmlsbCI+PGNpcmNsZSBmaWxsPSIjNDM0MzQzIiBjeD0iOSIgY3k9IjkiIHI9IjgiIGNsYXNzPSJzaS1nbHlwaC1maWxsIj48L2NpcmNsZT48L2c+PC9zdmc+");
      }

      @media (max-width: 720px) {
        #btn-ui-expand {display: none;}
      }
    </style>
  </head>
  <body>
    <div class="content-main">
      <div class="container">
        <div id="content-main-window" class="col-md-6 col-md-offset-3">
          <div class="panel panel-default">
            <div class="panel-body">
              <span id="btn-ui-expand" class="pull-right glyphicon glyphicon-resize-full"></span>
              <h3>Algoritmo de Dekker</h3>
              <h4>Tabela de Variáveis</h4>
              <table class="table">
                <tr>
                  <th style="width: 50%">Variável</th>
                  <th style="width: 50%">Valor</th>
                </tr>
                <tr>
                  <td>flag</td><td>[ <span id="var-flag-0"></span> , <span id="var-flag-1"></span> ]</td>
                </tr>
                <tr>
                  <td>vez</td><td id="var-turn"></td>
                </tr>
              </table>
              <div class="col-md-12">
                <div class="row">
                  <div id="btn-step-wrap" class="">
                    <span class="pull-right">
                      <button class="btn btn-success">Step</button>
                    </span>
                  </div>
                  <div id="btn-auto-wrap" class="">
                    <span class="pull-right">
                      <button class="btn btn-warning">Auto</button>
                    </span>
                  </div>
                </div>
              </div>
              <!-- editor contendo processo 1 -->
              <div class="row">
                <div class="editor editor-wrap col-md-12">
                  <center><span id="title-proc-1" class="ui ui-title">Processo 1</span></center>
                  <pre id="editor-1">
<code class="c">
<span class="line"><span>0</span>  while (true)</span>
<span class="line"><span>1</span>  {</span>
<span class="line"><span>2</span>      flag[i] = true;</span>
<span class="line"><span>3</span>      while (flag[j] != false)</span>
<span class="line"><span>4</span>      {</span>
<span class="line"><span>5</span>          if (vez == j) {</span>
<span class="line"><span>6</span>              flag[i] = false;</span>
<span class="line"><span>7</span>              while (vez == j){ }</span>
<span class="line"><span>8</span>              flag[i] = true;</span>
<span class="line"><span>9</span>          }</span>
<span class="line"><span>10</span>      }</span>
<span class="line info"><span>11</span>      secao_critica();</span>
<span class="line"><span>12</span>      vez = j;</span>
<span class="line"><span>13</span>      flag[i] = false;</span>
<span class="line"><span>14</span>  }</span>
                  </code>
                </pre>
                </div>
                <div class="editor editor-wrap col-md-12">
                  <!-- editor contendo processo 2 -->
                  <center><span id="title-proc-2" class="ui ui-title">Processo 2</span></center>
<pre id="editor-2">
<code class="c">
<span class="line"><span>0</span>  while (true)</span>
<span class="line"><span>1</span>  {</span>
<span class="line"><span>2</span>      flag[i] = true;</span>
<span class="line"><span>3</span>      while (flag[j] != false)</span>
<span class="line"><span>4</span>      {</span>
<span class="line"><span>5</span>          if (vez == j) {</span>
<span class="line"><span>6</span>              flag[i] = false;</span>
<span class="line"><span>7</span>              while (vez == j){ }</span>
<span class="line"><span>8</span>              flag[i] = true;</span>
<span class="line"><span>9</span>          }</span>
<span class="line"><span>10</span>      }</span>
<span class="line info"><span>11</span>      secao_critica();</span>
<span class="line"><span>12</span>      vez = j;</span>
<span class="line"><span>13</span>      flag[i] = false;</span>
<span class="line"><span>14</span>  }</span>
                  </code>
                </pre>
                </div>
              </div>
              <!-- summary -->
              <ul id="summary">
              </ul>
              <h4>Configurações</h4>
              <ul class="list-group">
                <li class="list-group-item">
                  <div class="form-group">
                    <label>Velocidade de Execução (ms)</label>
                    <input id="ip-exec-vel" type="number" class="form-control" value="" placeholder="(mínimo 100 ms)">
                  </div>
                </li>
                <li class="list-group-item">
                  <div class="form-group">
                    <label>Tipo de Execução</label>
                    <select class="form-control">
                      <option value="">Monoprogramado</option>
                      <option value="" disabled>Multiprogramado</option>
                    </select>
                  </div>
                </li>
              </ul>
              <div id="sec-mem" class="sec hidden">
                <h4>Memória</h4>
                <div class="form-group">
                  <textarea id="ta-dump" class="form-control" style="resize: vertical;"></textarea>
                  <span class="help-block">
                    <p>É possível salvar um estado de máquina para utilizar mais tarde</p>
                    <p id="ui-mem-err-msg" style="color: red;"></p>
                  </span>
                </div>
                <div class="form-group">
                  <center>
                    <button id="btn-dump" class="btn btn-default"><span class="glyphicon glyphicon-download"></span>Dump</button>
                    <button id="btn-restore" class="btn btn-default"><span class="glyphicon glyphicon-upload"></span>Restaurar</button>
                  </center>
                </div>
              </div>
              <!-- <h4>Sobre</h4> -->
            </div>
          </div>
        </div>
      </div>
    </div>

    <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.12.4/jquery.min.js"></script>
    <script src="static/highlight/highlight.pack.js"></script>
    <script src="simulador.js"></script>
  </body>
</html>